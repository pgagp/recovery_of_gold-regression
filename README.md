# Описание проекта - "Восстановление золота из руды"

Данные предоставлены компанией Цифра (www.zyfra.com). Компания разрабатывает решения для эффективной работы промышленных предприятий.
Цель проекта - подготовить прототип модели машинного обучения, которая должна предсказать коэффициент восстановления золота из золотосодержащей руды. В распоряжении данные с параметрами добычи и очистки. Модель поможет оптимизировать производство, чтобы не запускать предприятие с убыточными характеристиками.

### Технологический процесс

![стадии процесса](https://github.com/pgagp/recovery_of_gold-regression/blob/main/data/technological%20process.png)

## Описание данных
- Rougher feed — исходное сырье
- Rougher additions (или reagent additions) — флотационные реагенты: Xanthate, Sulphate, Depressant
- Xanthate **— ксантогенат (промотер, или активатор флотации);
- Sulphate — сульфат (на данном производстве сульфид натрия);
- Depressant — депрессант (силикат натрия).
- Rougher process (англ. «грубый процесс») — флотация
- Rougher tails — отвальные хвосты
- Float banks — флотационная установка
- Cleaner process — очистка
- Rougher Au — черновой концентрат золота
- Final Au — финальный концентрат золота

### Параметры этапов
- air amount — объём воздуха
- fluid levels — уровень жидкости
- feed size — размер гранул сырья
- feed rate — скорость подачи


## Наименование признаков
Наименование признаков должно быть такое:
[этап].[тип_параметра].[название_параметра]
#### Пример: rougher.input.feed_ag
Значения для блока [этап]:
- rougher — флотация
- primary_cleaner — первичная очистка
- secondary_cleaner — вторичная очистка
- final — финальные характеристики
Значения для блока [тип_параметра]:
- input — параметры сырья
- output — параметры продукта
- state — параметры, характеризующие текущее состояние этапа
- calculation — расчётные характеристики


## Расчёт эффективности
Необходимо смоделировать процесс восстановления золота из золотосодержащей руды.
Эффективность обогащения рассчитывается по формуле:
![формула](https://github.com/pgagp/recovery_of_gold-regression/blob/main/data/recovery.png)
где:
- C — доля золота в концентрате после флотации/очистки;
- F — доля золота в сырье/концентрате до флотации/очистки;
- T — доля золота в отвальных хвостах после флотации/очистки.
Для прогноза коэффициента нужно найти долю золота в концентратах и хвостах. Причём важен не только финальный продукт, но и черновой концентрат.


## Метрика качества
Для решения задачи вводится новую метрика качества — sMAPE (англ. Symmetric Mean Absolute Percentage Error, «симметричное среднее абсолютное процентное отклонение»).
Она выражается не в абсолютных величинах, а в относительных и одинаково учитывает масштаб и целевого признака, и предсказания.
Метрика sMAPE вычисляется:
![метрика](https://github.com/pgagp/recovery_of_gold-regression/blob/main/data/smape.png)

Нужно спрогнозировать сразу две величины:
- эффективность обогащения чернового концентрата rougher.output.recovery;
- эффективность обогащения финального концентрата final.output.recovery.
Итоговая метрика складывается из двух величин:
![итогметрика](https://github.com/pgagp/recovery_of_gold-regression/blob/main/data/total%20smape.png)
